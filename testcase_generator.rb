test_cases = {"1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, English (DTS) (6.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "3, English (AC3) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (LPCM) (2.0 ch) (iso639-2: eng)"=>true, "2, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, English (AC3) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, English (AC3) (Director's Commentary 1) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "4, English (AC3) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "5, English (AC3) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "3, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "2, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "3, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (1.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "3, Espanol (AC3) (1.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, Francais (AC3) (1.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 2) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Francais (AC3) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "2, English (AC3) (Director's Commentary 1) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "1, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "3, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "2, Espanol (AC3) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "5, English (AC3) (Director's Commentary 1) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 384000bps"=>true, "2, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, English (AC3) (5.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, Espanol (AC3) (5.0 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "3, English (AC3) (Director's Commentary 1) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, Espanol (AC3) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, English (AC3) (3.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 448000bps"=>true, "5, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "2, English (DTS) (6.1 ch) (iso639-2: eng), 48000Hz, 1536000bps"=>true, "2, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "4, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "2, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "3, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "4, English (AC3) (Visually Impaired) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true}

puts "require File.expand_path('../../spec_helper.rb', __FILE__)"
puts "require 'bulkencoder'"
puts
puts 'module BulkEncoder'
puts '  describe AudioTrack do'
puts '    subject do'
puts '      AudioTrack.new input'
puts '    end'
puts
puts "    describe '#new' do"

index = 1

integers = {
    'track' => true,
    'sample_rate' => true,
    'bit_rate' => true
}

test_cases.each do |key, value|

  match = /(?<track>\d+), (?<language>.*) \((?<codec>.*)\) \((?<title>.+)\) \((?<iso>.*): (?<isolanguage>.*)\)(, (?<sample_rate>\d+)Hz, (?<bit_rate>\d+)bps)?/.match(key)

  puts "      describe 'Test Case #{index}' do"
  puts "        let(:input) { \"#{key}\" }"

  if match
    match.names.each do |match_name|
      puts "        it '#{match_name} should be parsed' do"
      if integers.has_key?(match_name)
        if match[match_name] == nil
          puts "          subject.#{match_name}.should == nil"
        else
          puts "          subject.#{match_name}.should == #{match[match_name]}"
        end
      else
        puts "          subject.#{match_name}.should == \"#{match[match_name]}\""
      end
      puts '        end'
      index +=1
    end
  end
  puts '      end'






end

puts '    end'
puts '  end'
puts 'end'