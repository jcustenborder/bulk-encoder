test_cases = {"1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, English (DTS-ES) (6.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "3, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (LPCM) (2.0 ch) (iso639-2: eng)"=>true, "2, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (2.0 ch) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "4, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "5, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "3, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "2, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "3, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 192000bps"=>true, "2, Francais (AC3) (1.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "3, Espanol (AC3) (1.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, Francais (AC3) (1.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Francais (AC3) (2.0 ch) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "2, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "1, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "3, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "2, Espanol (AC3) (2.0 ch) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "5, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 384000bps"=>true, "2, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, English (AC3) (5.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, Espanol (AC3) (5.0 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "3, English (AC3) (Director's Commentary 1) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, Espanol (AC3) (2.0 ch) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, English (AC3) (3.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "1, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 448000bps"=>true, "5, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "2, English (DTS-ES) (6.1 ch) (iso639-2: eng), 48000Hz, 1536000bps"=>true, "2, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "4, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "2, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "3, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "4, English (AC3) (Visually Impaired) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Japanese (AC3) (2.0 ch) (iso639-2: jpn), 48000Hz, 224000bps"=>true, "3, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 224000bps"=>true, "1, Unknown (AC3) (2.0 ch) (Dolby Surround) (iso639-2: und), 48000Hz, 192000bps"=>true, "5, Portugues (AC3) (2.0 ch) (iso639-2: por), 48000Hz, 192000bps"=>true, "6, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "7, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "4, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Espanol (AC3) (2.0 ch) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "5, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, Francais (AC3) (2.0 ch) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "2, English (AC3) (4.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, Unknown (DTS) (5.1 ch) (iso639-2: und), 48000Hz, 768000bps"=>true, "2, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 256000bps"=>true, "5, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 384000bps"=>true, "3, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "5, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "5, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 224000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 256000bps"=>true, "2, English (AC3) (5.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 256000bps"=>true, "4, English (AC3) (5.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "4, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 448000bps"=>true, "5, Espanol (AC3) (2.0 ch) (Dolby Surround) (iso639-2: spa), 48000Hz, 192000bps"=>true, "2, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 1536000bps"=>true, "3, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 448000bps"=>true, "4, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "2, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 224000bps"=>true, "3, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 192000bps"=>true, "3, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, English (AC3) (Director's Commentary 1) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 448000bps"=>true, "3, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 448000bps"=>true, "3, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Japanese (AC3) (2.0 ch) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "1, Japanese (AC3) (2.0 ch) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "3, English (DTS-ES) (6.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 320000bps"=>true, "3, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "4, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 256000bps"=>true, "2, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 256000bps"=>true, "3, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 384000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 384000bps"=>true, "1, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 1536000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "4, Unknown (AC3) (2.0 ch) (Dolby Surround) (iso639-2: und), 48000Hz, 192000bps"=>true, "4, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "1, English (AC3) (4.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, Francais (AC3) (2.0 ch) (Dolby Surround) (iso639-2: fra), 48000Hz, 96000bps"=>true, "3, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "3, Unknown (AC3) (2.0 ch) (Dolby Surround) (iso639-2: und), 48000Hz, 192000bps"=>true, "6, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (4.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "6, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "7, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 128000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 256000bps"=>true, "2, English (AC3) (Visually Impaired) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "2, Unknown (AC3) (2.0 ch) (Dolby Surround) (iso639-2: und), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "5, English (AC3) (Director's Commentary 1) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "6, English (AC3) (Director's Commentary 2) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, English (AC3) (Director's Commentary 1) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "5, English (AC3) (Director's Commentary 2) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "5, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "5, English (AC3) (Director's Commentary 2) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, Unknown (LPCM) (2.0 ch) (iso639-2: und)"=>true, "4, Portugues (AC3) (1.0 ch) (iso639-2: por), 48000Hz, 192000bps"=>true, "2, Espanol (AC3) (1.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, English (AC3) (5.0 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, Francais (AC3) (5.0 ch) (iso639-2: fra), 48000Hz, 384000bps"=>true, "3, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 1536000bps"=>true, "3, Portugues (AC3) (2.0 ch) (iso639-2: por), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, English (AC3) (Director's Commentary 1) (2.1 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Portugues (AC3) (1.0 ch) (iso639-2: por), 48000Hz, 192000bps"=>true, "4, Japanese (AC3) (2.0 ch) (Dolby Surround) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "3, Japanese (AC3) (2.0 ch) (Dolby Surround) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "1, English (AC3) (3.0 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "6, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 224000bps"=>true, "1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 224000bps"=>true, "4, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "2, Chinese (AC3) (5.1 ch) (iso639-2: zho), 48000Hz, 384000bps"=>true, "4, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "5, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "2, Unknown (DTS) (5.1 ch) (iso639-2: und), 48000Hz, 1536000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 448000bps"=>true, "4, English (AC3) (Director's Commentary 2) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, Chinese (DTS) (5.1 ch) (iso639-2: zho), 48000Hz, 768000bps"=>true, "2, Chinese (AC3) (5.1 ch) (iso639-2: zho), 48000Hz, 448000bps"=>true, "5, Espanol (AC3) (5.1 ch) (iso639-2: spa), 48000Hz, 384000bps"=>true, "2, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "3, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "5, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "6, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 256000bps"=>true, "2, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, Latin (AC3) (5.1 ch) (iso639-2: lat), 48000Hz, 448000bps"=>true, "2, Latin (DTS) (5.1 ch) (iso639-2: lat), 48000Hz, 768000bps"=>true, "1, Unknown (DTS) (5.1 ch) (iso639-2: und), 48000Hz, 1536000bps"=>true, "1, Japanese (AC3) (5.1 ch) (iso639-2: jpn), 48000Hz, 448000bps"=>true, "7, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "8, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Portugues (AC3) (5.1 ch) (iso639-2: por), 48000Hz, 448000bps"=>true, "4, English (AC3) (Visually Impaired) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "2, Unknown (DTS) (5.1 ch) (iso639-2: und), 48000Hz, 768000bps"=>true, "3, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "6, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "7, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "2, Japanese (AC3) (2.0 ch) (Dolby Surround) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "2, Japanese (AC3) (5.1 ch) (iso639-2: jpn), 48000Hz, 448000bps"=>true, "2, English (AC3) (3.1 ch) (iso639-2: eng), 48000Hz, 320000bps"=>true, "4, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 128000bps"=>true, "1, Japanese (AC3) (2.0 ch) (Dolby Surround) (iso639-2: jpn), 48000Hz, 224000bps"=>true, "1, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 224000bps"=>true, "1, Chinese (AC3) (5.1 ch) (iso639-2: zho), 48000Hz, 384000bps"=>true, "1, Francais (AC3) (5.1 ch) (iso639-2: fra), 48000Hz, 448000bps"=>true, "6, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 160000bps"=>true, "5, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 160000bps"=>true, "5, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, Francais (AC3) (2.0 ch) (Dolby Surround) (iso639-2: fra), 48000Hz, 192000bps"=>true, "3, Espanol (AC3) (2.0 ch) (Dolby Surround) (iso639-2: spa), 48000Hz, 256000bps"=>true, "4, Portugues (AC3) (2.0 ch) (Dolby Surround) (iso639-2: por), 48000Hz, 256000bps"=>true, "1, Espanol (AC3) (1.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "4, English (AC3) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, Czech (AC3) (5.1 ch) (iso639-2: ces), 48000Hz, 448000bps"=>true, "4, Portugues (AC3) (2.0 ch) (Dolby Surround) (iso639-2: por), 48000Hz, 192000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "3, Thai (AC3) (5.1 ch) (iso639-2: tha), 48000Hz, 448000bps"=>true, "2, English (AC3) (Visually Impaired) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "5, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "5, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 128000bps"=>true, "1, Unknown (AC3) (1.0 ch) (iso639-2: und), 48000Hz, 192000bps"=>true, "4, Unknown (AC3) (5.1 ch) (iso639-2: und), 48000Hz, 384000bps"=>true, "1, Unknown (AC3) (1.0 ch) (iso639-2: und), 48000Hz, 96000bps"=>true, "4, Francais (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "7, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, English (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, Unknown (AC3) (2.0 ch) (iso639-2: und), 48000Hz, 96000bps"=>true, "2, English (AC3) (Visually Impaired) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "2, English (AC3) (Director's Commentary 1) (1.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "5, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "6, Japanese (AC3) (2.0 ch) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "7, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "3, Francais (AC3) (Director's Commentary 1) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "2, Japanese (AC3) (2.0 ch) (iso639-2: jpn), 48000Hz, 192000bps"=>true, "1, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "1, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 192000bps"=>true, "4, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "5, English (AC3) (Director's Commentary 2) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "2, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "2, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 224000bps"=>true, "4, Espanol (AC3) (1.0 ch) (iso639-2: spa), 48000Hz, 192000bps"=>true, "6, English (AC3) (Director's Commentary 1) (5.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true, "1, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 192000bps"=>true, "3, Chinese (AC3) (5.1 ch) (iso639-2: zho), 48000Hz, 448000bps"=>true, "4, Thai (AC3) (5.1 ch) (iso639-2: tha), 48000Hz, 384000bps"=>true, "4, English (DTS) (5.1 ch) (iso639-2: eng), 48000Hz, 768000bps"=>true, "2, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 256000bps"=>true, "2, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 224000bps"=>true, "1, Francais (AC3) (2.0 ch) (iso639-2: fra), 48000Hz, 192000bps"=>true, "4, Japanese (AC3) (5.1 ch) (iso639-2: jpn), 48000Hz, 448000bps"=>true, "4, Portugues (AC3) (2.0 ch) (iso639-2: por), 48000Hz, 192000bps"=>true, "4, Portugues (AC3) (5.1 ch) (iso639-2: por), 48000Hz, 448000bps"=>true, "1, Espanol (AC3) (2.0 ch) (iso639-2: spa), 48000Hz, 224000bps"=>true, "1, English (AC3) (2.0 ch) (iso639-2: eng), 48000Hz, 128000bps"=>true, "4, English (AC3) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 128000bps"=>true, "5, English (AC3) (Director's Commentary 2) (2.0 ch) (iso639-2: eng), 48000Hz, 96000bps"=>true, "4, Chinese (AC3) (5.1 ch) (iso639-2: zho), 48000Hz, 384000bps"=>true, "1, Chinese (AC3) (2.0 ch) (iso639-2: zho), 48000Hz, 192000bps"=>true, "4, English (AC3) (5.1 ch) (iso639-2: eng), 48000Hz, 384000bps"=>true, "3, English (AC3) (Director's Commentary 1) (2.0 ch) (Dolby Surround) (iso639-2: eng), 48000Hz, 96000bps"=>true, "1, Unknown (AC3) (1.0 ch) (iso639-2: und), 48000Hz, 64000bps"=>true, "1, English (AC3) (4.1 ch) (iso639-2: eng), 48000Hz, 448000bps"=>true}
puts "require File.expand_path('../../spec_helper.rb', __FILE__)"
puts "require 'bulkencoder'"
puts
puts 'module BulkEncoder'
puts '  describe AudioTrack do'
puts '    subject do'
puts '      AudioTrack.new input'
puts '    end'
puts
puts "    describe '#new' do"

index = 1

integers = {
    'track' => true,
    'sample_rate' => true,
    'bit_rate' => true,
    'channels' => true
}

regexes = [
    /^(?<track>\d+), (?<language>.*) \((?<codec>.*)\) \((?<channels>.+) ch\) \((?<title>.+)\) \((?<iso>iso.*): (?<isolanguage>.*)\)(, (?<sample_rate>\d+)Hz, (?<bit_rate>\d+)bps)?$/,
    /^(?<track>\d+), (?<language>.*) \((?<codec>.*)\) \((?<channels>.+) ch\) \((?<iso>iso.*): (?<isolanguage>.*)\)(, (?<sample_rate>\d+)Hz, (?<bit_rate>\d+)bps)?$/,
    /(?<track>\d+), (?<language>.*) \((?<codec>.*)\) \((?<title>.+)\) \((?<iso>.*): (?<isolanguage>.*)\)(, (?<sample_rate>\d+)Hz, (?<bit_rate>\d+)bps)?/
]

test_cases.each do |key, value|

  matched = false

  regexes.each do |regex|
    match = regex.match(key)
    next unless match
    matched = true
    puts "      describe 'Test Case #{index}' do"
    puts "        let(:input) { \"#{key}\" }"

    match.names.each do |match_name|
      puts "        it '#{match_name} should be parsed' do"
      if integers.has_key?(match_name)
        if match[match_name] == nil
          puts "          subject.#{match_name}.should == nil"
        else
          puts "          subject.#{match_name}.should == #{match[match_name]}"
        end
      else
        puts "          subject.#{match_name}.should == \"#{match[match_name]}\""
      end
      puts '        end'

      #if match[:language] =~ /^(\S+)/i
      #  puts "        it 'language should be #{$1}' do"
      #  puts "          subject.language.should == '#{$1}'"
      #  puts "        end"
      #end
      #
      #if key =~ /(AC3|DTS-ES|DTS)/i
      #  puts "        it 'codec should be #{$1}' do"
      #  puts "          subject.codec.should == '#{$1}'"
      #  puts "        end"
      #end
      #
      #if key =~ /Director's Commentary 1/i
      #  puts "        it 'title should be Director''s Commentary 1' do"
      #  puts "          subject.title.should == 'Director''s Commentary 1'"
      #  puts "        end"
      #end


    end
    index +=1
    puts '      end'
    break
  end

  unless matched
    puts "# No Match"
    puts "# #{key}"
  end


end

puts '    end'
puts '  end'
puts 'end'